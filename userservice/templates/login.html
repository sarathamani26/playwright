{% load static %}

<!--<!DOCTYPE html>-->
<!--<html>-->
<!--<head>-->
<!--    <style>-->
<!--        #main {-->
<!--            margin: 50px auto;-->
<!--            padding: 20px;-->
<!--            border: 1px ridge;-->
<!--            width: 500px;-->
<!--            box-shadow: 2px 2px 8px rgba(0,0,0,0.2);-->
<!--            background-color: #f9f9f9;-->
<!--            margin-top:10%;-->
<!--        }-->
<!--        label {-->
<!--            font-size: 18px;-->
<!--            font-weight: bold;-->
<!--        }-->
<!--        input {-->
<!--            display: block;-->
<!--            height: 50px;-->
<!--            width: 70%;-->
<!--            margin: 10px 0;-->
<!--            margin-left:50px;-->
<!--            padding: 8px;-->
<!--            box-sizing: border-box;-->
<!--            font-size: 16px;-->
<!--        }-->
<!--        button {-->
<!--            height: 40px;-->
<!--            width: 20%;-->
<!--            background-color: #4CAF50;-->
<!--            color: white;-->
<!--            font-size: 16px;-->
<!--            border: none;-->
<!--            cursor: pointer;-->
<!--            margin-left:150px;-->
<!--        }-->
<!--        button:hover {-->
<!--            background-color: #45a049;-->
<!--        }-->
<!--        label{-->
<!--            margin-left:50px;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--    <div id="main">-->
<!--        <label for="username">Username</label>-->
<!--        <input type="text" id="username" placeholder="Username">-->

<!--        <label for="password">Password</label>-->
<!--        <input type="password" id="password" placeholder="Password">-->

<!--        <button type="button">Login</button>-->
<!--    </div>-->
<!--</body>-->
<!--</html>-->





<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--  <meta charset="UTF-8" />-->
<!--  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>-->
<!--  <title>Automation Login</title>-->
<!--  <style>-->
<!--    body {-->
<!--      margin: 0;-->
<!--      padding: 10px;-->
<!--      font-family: "Segoe UI", sans-serif;-->
<!--      height: 100vh;-->
<!--      background: linear-gradient(135deg, #6a11cb, #2575fc);-->
<!--      display: flex;-->
<!--      justify-content: center;-->
<!--      align-items: center;-->
<!--    }-->
<!--    .login-container {-->
<!--      background-color: #ffffff;-->
<!--      padding: 40px 30px;-->
<!--      border-radius: 20px;-->
<!--      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);-->
<!--      width: 300px;-->
<!--      text-align: center;-->
<!--      animation: fadeIn 1s ease;-->
<!--    }-->
<!--    @keyframes fadeIn {-->
<!--      from { opacity: 0; transform: translateY(-20px);}-->
<!--      to { opacity: 1; transform: translateY(0);}-->
<!--    }-->
<!--    .login-container h1 {-->
<!--      margin-bottom: 20px;-->
<!--      color: #333;-->
<!--    }-->
<!--    .login-container input[type="text"],-->
<!--    .login-container input[type="password"] {-->
<!--      width: 100%;-->
<!--      padding: 12px 15px;-->
<!--      margin: 10px 0;-->
<!--      border: 1px solid #ccc;-->
<!--      border-radius: 10px;-->
<!--      transition: border-color 0.3s;-->
<!--      font-size: 16px;-->
<!--    }-->
<!--    .login-container input[type="text"]:focus,-->
<!--    .login-container input[type="password"]:focus {-->
<!--      outline: none;-->
<!--      border-color: #6a11cb;-->
<!--    }-->
<!--    .login-container button {-->
<!--      width: 100%;-->
<!--      padding: 12px;-->
<!--      background: linear-gradient(135deg, #6a11cb, #2575fc);-->
<!--      color: white;-->
<!--      font-size: 16px;-->
<!--      border: none;-->
<!--      border-radius: 10px;-->
<!--      cursor: pointer;-->
<!--      margin-top: 15px;-->
<!--      transition: transform 0.2s, box-shadow 0.2s;-->
<!--    }-->
<!--    .login-container button:hover {-->
<!--      transform: scale(1.05);-->
<!--      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);-->
<!--    }-->
<!--    .status-message {-->
<!--      margin-top: 15px;-->
<!--      font-size: 14px;-->
<!--    }-->
<!--  </style>-->
<!--</head>-->
<!--<body>-->
<!--  <div class="login-container">-->
<!--    <h1>Automation Login</h1>-->
<!--    <input type="text" id="username" placeholder="Username" required />-->
<!--    <input type="password" id="password" placeholder="Password" required />-->
<!--    <button onclick="login()">Login</button>-->
<!--    <div class="status-message" id="status"></div>-->
<!--  </div>-->

<!--  <script>-->
<!--    function login() {-->
<!--      const username = document.getElementById("username").value.trim();-->
<!--      const password = document.getElementById("password").value.trim();-->
<!--      const status = document.getElementById("status");-->
<!--      status.style.color = "red";-->

<!--      if (!username || !password) {-->
<!--        status.textContent = "Please fill in both fields.";-->
<!--        return;-->
<!--      }-->

<!--      // Simulate login check (replace with actual request later)-->
<!--      if (username === "admin" && password === "password123") {-->
<!--        status.style.color = "green";-->
<!--        status.textContent = "Login successful! Redirecting...";-->
<!--        setTimeout(() => {-->
<!--          alert("Welcome, " + username + "!");-->
<!--          // window.location.href = "/dashboard"; // Uncomment for real redirect-->
<!--        }, 1000);-->
<!--      } else {-->
<!--        status.textContent = "Invalid username or password.";-->
<!--      }-->
<!--    }-->
<!--  </script>-->
<!--</body>-->
<!--</html>-->




<!--  <!DOCTYPE html>-->
<!--  <html lang="en">-->
<!--  <head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Full-Screen Login with Image</title>-->
<!--    <style>-->
<!--      body, html {-->
<!--        margin: 0;-->
<!--        padding: 0;-->
<!--        height: 100%;-->
<!--        width: 100%;-->
<!--        font-family: Arial, sans-serif;-->
<!--      }-->
<!--      .container {-->
<!--        display: flex;-->
<!--        height: 100vh;-->
<!--        width: 100vw;-->
<!--      }-->
<!--      .left-side {-->
<!--        flex: 2;-->
<!--        background: url('AdobeStock_392909997-scaled.jpeg') no-repeat center center;-->
<!--        background-size: cover;-->
<!--        height:100%;-->
<!--        padding-right:170px;-->


<!--      }-->
<!--      .right-side {-->
<!--        flex: 1;-->
<!--        display: flex;-->
<!--        justify-content: center;-->
<!--        align-items: center;-->
<!--        background-color: #f9f9f9;-->
<!--      }-->
<!--      #main {-->
<!--        width: 80%;-->
<!--        max-width: 400px;-->
<!--        padding: 40px;-->
<!--        box-shadow: 0 8px 20px rgba(0,0,0,0.2);-->
<!--        background-color: white;-->
<!--        border-radius: 10px;-->

<!--      }-->
<!--      label {-->
<!--        display: block;-->
<!--        font-size: 18px;-->
<!--        font-weight: bold;-->
<!--        margin-bottom: 10px;-->
<!--      }-->
<!--      input {-->
<!--        display: block;-->
<!--        height: 45px;-->
<!--        width: 100%;-->
<!--        margin-bottom: 25px;-->
<!--        padding: 0 12px;-->
<!--        box-sizing: border-box;-->
<!--        font-size: 16px;-->
<!--        border: 1px solid #ccc;-->
<!--        border-radius: 8px;-->
<!--        transition: border 0.3s;-->
<!--      }-->
<!--      input:focus {-->
<!--        outline: none;-->
<!--        border-color: #4CAF50;-->
<!--      }-->
<!--      button {-->
<!--        height: 45px;-->
<!--        width: 100%;-->
<!--        background-color: #4CAF50;-->
<!--        color: white;-->
<!--        font-size: 18px;-->
<!--        border: none;-->
<!--        border-radius: 8px;-->
<!--        cursor: pointer;-->
<!--        transition: background-color 0.3s;-->
<!--      }-->
<!--      button:hover {-->
<!--        background-color: #45a049;-->
<!--      }-->
<!--    </style>-->
<!--  </head>-->
<!--  <body>-->
<!--    <div class="container">-->
<!--      <div class="left-side"></div>-->
<!--      <div class="right-side">-->
<!--        <div id="main">-->
<!--          <label for="username">Username</label>-->
<!--          <input type="text" id="username" placeholder="Username">-->

<!--          <label for="password">Password</label>-->
<!--          <input type="password" id="password" placeholder="Password">-->

<!--          <button type="button">Login</button>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--  </body>-->
<!--  </html>-->





<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>loginscreen</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .container {
      display: flex;
      height: 100vh;
      width: 100vw;
    }
    .left-side {
      flex: 2;
      background: url("{% static 'images/automaton_image.jpg' %}") no-repeat center center;

      background-size: cover;
      height: 100%;
    }
    .right-side {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(to bottom right, #f9f9f9, #e8e8e8);
    }
    #main {
      width: 85%;
      max-width: 400px;
      padding: 50px 40px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.3);
      background: white;
      border-radius: 20px;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    #main:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.4);
    }
    #main h2 {
      text-align: center;
      font-size: 32px;
      margin-bottom: 30px;
      color: #333;
    }
    label {
      display: block;
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 8px;
      color: #333;
    }
    input {
      display: block;
      height: 45px;
      width: 100%;
      margin-bottom: 25px;
      padding: 0 12px;
      box-sizing: border-box;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 10px;
      transition: border-color 0.3s, box-shadow 0.3s;
    }
    input:focus {
      outline: none;
      border-color: #4CAF50;
      box-shadow: 0 0 8px rgba(76,175,80,0.3);
    }
    button {
      height: 50px;
      width: 100%;
      background: linear-gradient(135deg, #4CAF50, #45a049);
      color: white;
      font-size: 20px;
      font-weight: bold;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.3s;
    }
    button:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 15px rgba(76,175,80,0.4);
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="left-side"></div>
    <div class="right-side">
      <div id="main">
        <h2 style="color:blue;"> Automation Login</h2>
        <label for="username">Username</label>
        <input type="text" id="username" placeholder="Username">

        <label for="password">Password</label>
        <input type="password" id="password" placeholder="Password">

        <button type="button">Login</button>
      </div>
    </div>
  </div>
</body>
</html>
<script>
document.querySelector("button").addEventListener("click", function() {
  const username = document.getElementById("username").value.trim();
  const password = document.getElementById("password").value.trim();

  if (!username || !password) {
    alert("Please enter both username and password.");
    return;
  }

  fetch("/user/auth_token", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "X-CSRFToken": getCookie("csrftoken") // only if CSRF protection enabled
    },
    body: JSON.stringify({
      user_name: username,
      password: password
    })
  })
  .then(response => {
    if (!response.ok) throw response;
    return response.json();
  })
  .then(data => {
<!--    alert("Login successful!");-->
    // Optional: redirect or store token in localStorage/sessionStorage
    window.location.href = "http://127.0.0.1:8001/nfserv/template-form/";


  })
  .catch(async error => {
    let errMsg = "Login failed!";
    if (error.json) {
      const errData = await error.json();
      errMsg = errData.description || errMsg;
    }
    alert(errMsg);
  });
});

// Helper to get CSRF token from cookies if needed
function getCookie(name) {
  let cookieValue = null;
  if (document.cookie && document.cookie !== "") {
    const cookies = document.cookie.split(";");
    for (let i = 0; i < cookies.length; i++) {
      const cookie = cookies[i].trim();
      if (cookie.substring(0, name.length + 1) === (name + "=")) {
        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
        break;
      }
    }
  }
  return cookieValue;
}
</script>


<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--  <meta charset="UTF-8">-->
<!--  <title>Automation Login</title>-->
<!--  <style>-->
<!--    body, html {-->
<!--      margin: 0;-->
<!--      padding: 0;-->
<!--      height: 100%;-->
<!--      width: 100%;-->
<!--      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;-->
<!--    }-->
<!--    .background {-->
<!--      position: fixed;-->
<!--      top: 0;-->
<!--      left: 0;-->
<!--      height: 100vh;-->
<!--      width: 100vw;-->
<!--      background: url("automaton_image.jpg") no-repeat center center;-->
<!--      background-size: cover;-->
<!--      filter: blur(0px) brightness(0.6); /* optional: darken/blur image for contrast */-->
<!--      z-index: -1; /* keep background behind everything */-->
<!--    }-->
<!--    .container {-->
<!--      position: relative;-->
<!--      height: 120vh;-->
<!--      width: 100vw;-->
<!--      display: flex;-->
<!--      justify-content: center;-->
<!--      align-items: center;-->
<!--    }-->
<!--    #main {-->
<!--      width: 70%;-->
<!--      max-width: 400px;-->
<!--      padding: 30px 40px;-->
<!--      box-shadow: 0 12px 30px rgba(0,0,0,0.5);-->
<!--      background: rgba(255, 255, 255, 0.9); /* semi-transparent white */-->
<!--      border-radius: 40px;-->
<!--      transition: transform 0.3s, box-shadow 0.3s;-->
<!--    }-->
<!--    #main:hover {-->
<!--      transform: translateY(-5px);-->
<!--      box-shadow: 0 20px 40px rgba(0,0,0,0.6);-->
<!--    }-->
<!--    #main h2 {-->
<!--      text-align: center;-->
<!--      font-size: 32px;-->
<!--      margin-bottom: 30px;-->
<!--      color: #333;-->
<!--    }-->
<!--    label {-->
<!--      display: block;-->
<!--      font-size: 16px;-->
<!--      font-weight: 600;-->
<!--      margin-bottom: 8px;-->
<!--      color: #666;-->
<!--    }-->
<!--    input {-->
<!--      display: block;-->
<!--      height: 45px;-->
<!--      width: 100%;-->
<!--      margin-bottom: 10px;-->
<!--      padding: 0 12px;-->
<!--      box-sizing: border-box;-->
<!--      font-size: 16px;-->
<!--      border: 1px solid #ccc;-->
<!--      border-radius: 10px;-->
<!--      transition: border-color 0.3s, box-shadow 0.3s;-->
<!--    }-->
<!--    input:focus {-->
<!--      outline: none;-->
<!--      border-color: #4CAF50;-->
<!--      box-shadow: 0 0 8px rgba(76,175,80,0.3);-->
<!--    }-->
<!--    button {-->
<!--      height: 50px;-->
<!--      width: 100%;-->
<!--      background: linear-gradient(135deg, #4CAF50, #45a049);-->
<!--      color: white;-->
<!--      font-size: 20px;-->
<!--      font-weight: bold;-->
<!--      border: none;-->
<!--      border-radius: 12px;-->
<!--      cursor: pointer;-->
<!--      transition: transform 0.2s, box-shadow 0.3s;-->
<!--    }-->
<!--    button:hover {-->
<!--      transform: scale(1.05);-->
<!--      box-shadow: 0 6px 15px rgba(76,175,80,0.4);-->
<!--    }-->
<!--  </style>-->
<!--</head>-->
<!--<body>-->
<!--  <div class="background"></div> &lt;!&ndash; full-screen background image &ndash;&gt;-->
<!--  <div class="container">-->
<!--    <div id="main">-->
<!--      <h2 style="color:blue;">Automation Login</h2>-->
<!--      <label for="username">Username</label>-->
<!--      <input type="text" id="username" placeholder="Username">-->

<!--      <label for="password">Password</label>-->
<!--      <input type="password" id="password" placeholder="Password">-->

<!--      <button type="button">Login</button>-->
<!--    </div>-->
<!--  </div>-->
<!--</body>-->
<!--</html>-->
<!--<script>-->
<!--document.querySelector("button").addEventListener("click", function() {-->
<!--  const username = document.getElementById("username").value.trim();-->
<!--  const password = document.getElementById("password").value.trim();-->

<!--  if (!username || !password) {-->
<!--    alert("Please enter both username and password.");-->
<!--    return;-->
<!--  }-->

<!--  fetch("/user/auth_token", {-->
<!--    method: "POST",-->
<!--    headers: {-->
<!--      "Content-Type": "application/json",-->
<!--      "X-CSRFToken": getCookie("csrftoken")-->
<!--    },-->
<!--    body: JSON.stringify({-->
<!--      user_name: username,-->
<!--      password: password-->
<!--    })-->
<!--  })-->
<!--  .then(response => {-->
<!--    if (!response.ok) throw response;-->
<!--    return response.json();-->
<!--  })-->
<!--  .then(data => {-->
<!--    window.location.href = "http://127.0.0.1:8001/nfserv/template-form/";-->
<!--  })-->
<!--  .catch(async error => {-->
<!--    let errMsg = "Login failed!";-->
<!--    if (error.json) {-->
<!--      const errData = await error.json();-->
<!--      errMsg = errData.description || errMsg;-->
<!--    }-->
<!--    alert(errMsg);-->
<!--  });-->
<!--});-->

<!--// Helper to get CSRF token from cookies if needed-->
<!--function getCookie(name) {-->
<!--  let cookieValue = null;-->
<!--  if (document.cookie && document.cookie !== "") {-->
<!--    const cookies = document.cookie.split(";");-->
<!--    for (let i = 0; i < cookies.length; i++) {-->
<!--      const cookie = cookies[i].trim();-->
<!--      if (cookie.substring(0, name.length + 1) === (name + "=")) {-->
<!--        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));-->
<!--        break;-->
<!--      }-->
<!--    }-->
<!--  }-->
<!--  return cookieValue;-->
<!--}-->
<!--</script>-->

