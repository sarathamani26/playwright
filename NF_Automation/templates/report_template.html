<!--<!DOCTYPE html>-->
<!--<html>-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Test Report</title>-->
<!--    <style>-->
<!--        table {-->
<!--            width: 100%;-->
<!--            border-collapse: collapse;-->
<!--            font-size: 12px;-->
<!--        }-->
<!--        th, td {-->
<!--            border: 1px solid #000;-->
<!--            padding: 6px;-->
<!--            text-align: left;-->
<!--        }-->
<!--        th {-->
<!--            background-color: #f2f2f2;-->
<!--        }-->
<!--        h2 {-->
<!--            text-align: center;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--    <h2> Automation Test Report </h2>-->
<!--    <table>-->
<!--        <thead>-->
<!--            <tr>-->
<!--                {% for col in columns %}-->
<!--                    <th>{{ col }}</th>-->
<!--                {% endfor %}-->
<!--            </tr>-->
<!--        </thead>-->
<!--        <tbody>-->
<!--            {% for row in rows %}-->
<!--        <tr>-->
<!--            {% for cell in row %}-->
<!--                {% if forloop.counter0 == 2 %}-->
<!--                    {% if cell|lower == "success" %}-->
<!--                        <td style="color: green;"><b>{{ cell }}</b></td>-->
<!--                    {% elif cell|lower == "fail" %}-->
<!--                        <td style="color: red;"><b>{{ cell }}</b></td>-->
<!--                    {% else %}-->
<!--                        <td>{{ cell }}</td>-->
<!--                    {% endif %}-->
<!--                {% else %}-->
<!--                    <td>{{ cell }}</td>-->
<!--                {% endif %}-->
<!--            {% endfor %}-->
<!--        </tr>-->
<!--    {% endfor %}-->
<!--</tbody>-->
<!--    </table>-->
<!--</body>-->
<!--</html>-->


<!--<!DOCTYPE html>-->
<!--<html>-->
<!--<head>-->
<!--    <style>-->
<!--        .record {-->
<!--            -->
<!--            margin-bottom: 30px;-->
<!--            padding: 20px;-->
<!--            border: 1px solid #ccc;-->
<!--        }-->

<!--        .record:first-child {-->
<!--            page-break-before: avoid;-->
<!--        }-->

<!--        h2.title {-->
<!--            margin-top: 0;-->
<!--            text-align: center;-->
<!--            font-size: 18px;-->
<!--        }-->

<!--        .field { margin: 6px 0; }-->
<!--        .field strong { width: 120px; display: inline-block; }-->

<!--        img.screenshot {-->
<!--            max-width: 300px;-->
<!--            max-height: 200px;-->
<!--            display: block;-->
<!--            margin-top: 5px;-->
<!--        }-->

<!--        pre {-->
<!--            background: #f4f4f4;-->
<!--            padding: 8px;-->
<!--            white-space: pre-wrap;-->
<!--            word-wrap: break-word;-->
<!--            border-radius: 4px;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--    <h3>Testcase Report</h3>-->
<!--    {% for record in records %}-->
<!--    <div class="record">-->
<!--        <div class="field"><strong>Client Name:</strong> {{ record.client_name }}</div>-->
<!--        <div class="field"><strong>Module:</strong> ECF</div>-->
<!--        <div class="field"><strong>Test Scenario:</strong> ECF Creation Nonpo without vat</div>-->
<!--        <div class="field"><strong>Input Data:</strong> <pre>{{ record.inputdata }}</pre></div>-->
<!--        <div class="field"><strong>Output Data:</strong> <pre>{{ record.outputdata }}</pre></div>-->
<!--        <div class="field"><strong>Status:</strong> {{ record.status }}</div>-->
<!--        <div class="field"><strong>Testcase Result:</strong> {{ record.Testcase_Result }}</div>-->
<!--        <div class="field"><strong>Test Code:</strong> {{ record.Testcase_code }}</div>-->
<!--        <div class="field"><strong>Screenshot:</strong><br>-->
<!--            {% if record.screenshoot %}-->
<!--                <img class="screenshot" src="{{ record.screenshoot.url }}" alt="Screenshot"/>-->
<!--            {% else %}-->
<!--                No screenshot available-->
<!--            {% endif %}-->
<!--        </div>-->
<!--    </div>-->
<!--    {% endfor %}-->
<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Test Report</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            font-size: 11px;
            margin: 10px;
            background-color: #f9f9f9;
        }

        .testcase {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 40px;
        }

        .testcase:not(:first-child) {
            page-break-before: always;
        }

        h2 {
            color: #444;
            margin-bottom: 20px;
            text-align: center;
            font-size: 20px;
            border-bottom: 2px solid #ccc;
            padding-bottom: 10px;
        }

        .field {
            margin: 8px 0;
        }

        .field strong {
            display: inline-block;
            width: 160px;
            color: #333;
        }

        .status-success {
            color: green;
            font-weight: bold;
        }

        .status-fail {
            color: red;
            font-weight: bold;
        }

        pre {
            background-color: #f0f0f0;
            padding: 10px;
            border-radius: 4px;
            white-space: pre-wrap;
        }

        img.screenshot {
            max-width: 70%;
            max-height: 70%;
            border: 1px solid #ccc;
            margin-top: 1px;
            cursor: pointer;
        }

        /* Lightbox Styles */
        #lightbox {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        #lightbox img {
            max-width: 90%;
            max-height: 90%;
            border: 4px solid white;
            border-radius: 8px;
        }

        #lightbox .close {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 30px;
            cursor: pointer;
        }
    </style>
</head>
<body>

    {% for record in records %}
    <div class="testcase">
        <h2>Test Report</h2>

        <div class="field"><strong>Client Name:</strong> {{ record.client_name }}</div>
        <div class="field"><strong>Module:</strong> ECF</div>
        <div class="field"><strong>Test Code:</strong> {{ record.Testcase_code }}</div>
        <div class="field"><strong>Test Scenario:</strong>{{ record.Test_scnarios}}</div>
        <div class="field"><strong>Input Data:</strong> <pre>{{ record.inputdata }}</pre></div>
        <div class="field"><strong>Output Data:</strong> <pre>{{ record.outputdata }}</pre></div>
        <div class="field"><strong>Date:</strong> <pre>{{ record.created_date }}</pre></div>
        <div class="field"><strong>Status:</strong>
            {% if record.status|lower == "success" %}
                <span class="status-success">{{ record.status }}</span>
            {% elif record.status|lower == "fail" %}
                <span class="status-fail">{{ record.status }}</span>
            {% else %}
                {{ record.status }}
            {% endif %}
        </div>
        <div class="field"><strong>Testcase Result:</strong> {{ record.Testcase_Result }}</div>
<!--        <div class="field"><strong>Test Code:</strong> {{ record.Testcase_code }}</div>-->
        <div class="field"><strong>Screenshot:</strong><br>
            <img class="screenshot"
                 src="data:image/png;base64,{{ record.base64_image }}"
                 alt="Screenshot"
                 onclick="openLightbox(this)" />
        </div>
    </div>
    {% endfor %}

    <!-- Global Lightbox (Only One) -->
    <div id="lightbox" onclick="closeLightbox()">
        <span class="close">&times;</span>
        <img id="lightbox-img" src="" alt="Full Image"/>
    </div>

    <script>
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightbox-img');

    function openLightbox(imgElement) {
        lightboxImg.src = imgElement.src; // Copy clicked image source
        lightbox.style.display = 'flex';  // Show lightbox
    }

    function closeLightbox() {
        lightbox.style.display = 'none';
    }

    // Prevent closing when clicking the image
    lightboxImg.addEventListener('click', function(event) {
        event.stopPropagation();
    });
    </script>

</body>
</html>

<!--<!DOCTYPE html>-->
<!--<html>-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Automation Test Report</title>-->
<!--    <style>-->
<!--        body {-->
<!--            font-family: Arial, sans-serif;-->
<!--            font-size: 14px;-->
<!--            margin: 30px;-->
<!--            background-color: #fff;-->
<!--        }-->

<!--        .testcase:not(:first-child) {-->
<!--            page-break-before: always;-->
<!--        }-->

<!--        h2 {-->
<!--            font-size: 18px;-->
<!--            text-align: center;-->
<!--            margin-bottom: 30px;-->
<!--            text-transform: uppercase;-->
<!--            letter-spacing: 1px;-->
<!--        }-->

<!--        .field {-->
<!--            margin: 8px 0;-->
<!--            padding-bottom: 5px;-->
<!--            border-bottom: 1px dashed #ccc;-->
<!--        }-->

<!--        .field span {-->
<!--            font-weight: bold;-->
<!--            display: inline-block;-->
<!--            width: 160px;-->
<!--        }-->

<!--        .status-success {-->
<!--            color: green;-->
<!--            font-weight: bold;-->
<!--        }-->

<!--        .status-fail {-->
<!--            color: red;-->
<!--            font-weight: bold;-->
<!--        }-->

<!--        pre {-->
<!--            background-color: #f7f7f7;-->
<!--            padding: 10px;-->
<!--            border-radius: 4px;-->
<!--            white-space: pre-wrap;-->
<!--            word-wrap: break-word;-->
<!--        }-->

<!--        img.screenshot {-->
<!--            max-width: 400px;-->
<!--            max-height: 250px;-->
<!--            margin-top: 10px;-->
<!--            border: 1px solid #eee;-->
<!--        }-->

<!--    </style>-->
<!--</head>-->
<!--<body>-->

<!--    {% for record in records %}-->
<!--    <div class="testcase">-->
<!--        <h2>Test Report</h2>-->

<!--        <div class="field"><span>Client Name:</span> {{ record.client_name }}</div>-->
<!--        <div class="field"><span>Module:</span> ECF</div>-->
<!--        <div class="field"><span>Test Scenario:</span> ECF Creation Nonpo without VAT</div>-->
<!--        <div class="field"><span>Input Data:</span><br><pre>{{ record.inputdata }}</pre></div>-->
<!--        <div class="field"><span>Output Data:</span><br><pre>{{ record.outputdata }}</pre></div>-->
<!--        <div class="field"><span>Status:</span>-->
<!--            {% if record.status|lower == "success" %}-->
<!--                <span class="status-success">{{ record.status }}</span>-->
<!--            {% elif record.status|lower == "fail" %}-->
<!--                <span class="status-fail">{{ record.status }}</span>-->
<!--            {% else %}-->
<!--                {{ record.status }}-->
<!--            {% endif %}-->
<!--        </div>-->
<!--        <div class="field"><span>Testcase Result:</span> {{ record.Testcase_Result }}</div>-->
<!--        <div class="field"><span>Test Code:</span> {{ record.Testcase_code }}</div>-->
<!--        <div class="field"><span>Screenshot:</span><br>-->
<!--            {% if record.screenshoot %}-->
<!--                <img class="screenshot" src="{{ record.screenshoot.url }}" alt="Screenshot">-->
<!--            {% else %}-->
<!--                No screenshot available-->
<!--            {% endif %}-->
<!--        </div>-->
<!--    </div>-->
<!--    {% endfor %}-->

<!--</body>-->
<!--</html>-->




